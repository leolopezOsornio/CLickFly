"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(w,u,c)=>{c.r(u),c.d(u,{HomePageModule:()=>C});var p=c(177),r=c(4742),g=c(4341),m=c(786),l=c(467),n=c(4438),f=c(3656),_=c(4303);function h(e,s){1&e&&(n.j41(0,"div",3),n.nrm(1,"img",4)(2,"div",5),n.k0s())}function x(e,s){if(1&e){const i=n.RV6();n.j41(0,"ion-card",6),n.nrm(1,"img",7),n.j41(2,"ion-card-header")(3,"ion-card-title",8),n.EFF(4,"Iniciar Sesi\xf3n"),n.k0s()(),n.j41(5,"ion-card-content")(6,"ion-input",9),n.mxI("ngModelChange",function(o){n.eBV(i);const a=n.XpG();return n.DH7(a.username,o)||(a.username=o),n.Njj(o)}),n.bIt("input",function(){n.eBV(i);const o=n.XpG();return n.Njj(o.validateFields())}),n.k0s(),n.nrm(7,"br"),n.j41(8,"span",10)(9,"ion-input",11),n.mxI("ngModelChange",function(o){n.eBV(i);const a=n.XpG();return n.DH7(a.password,o)||(a.password=o),n.Njj(o)}),n.bIt("input",function(){n.eBV(i);const o=n.XpG();return n.Njj(o.validateFields())}),n.k0s(),n.j41(10,"ion-icon",12),n.bIt("click",function(){n.eBV(i);const o=n.XpG();return n.Njj(o.togglePasswordVisibility())}),n.k0s()(),n.nrm(11,"br"),n.j41(12,"ion-button",13),n.bIt("click",function(){n.eBV(i);const o=n.XpG();return n.Njj(o.login())}),n.EFF(13,"Ingresar"),n.k0s(),n.j41(14,"ion-button",14),n.bIt("click",function(){n.eBV(i);const o=n.XpG();return n.Njj(o.goToRegister())}),n.EFF(15,"Reg\xedstrate"),n.k0s()()()}if(2&e){const i=n.XpG();n.R7$(6),n.R50("ngModel",i.username),n.R7$(3),n.Y8G("type",i.passwordVisible?"text":"password"),n.R50("ngModel",i.password),n.R7$(),n.Y8G("name",i.passwordVisible?"eye-outline":"eye-off-outline"),n.R7$(2),n.Y8G("disabled",!i.isValid)}}function P(e,s){1&e&&(n.j41(0,"div",15),n.nrm(1,"ion-spinner",16),n.k0s())}const b=[{path:"",component:(()=>{var e;class s{constructor(t,o,a,d){this.alertController=t,this.navCtrl=o,this.loadingController=a,this.authService=d,this.username="",this.password="",this.isValid=!1,this.isLoading=!0,this.showLoginSpinner=!1,this.passwordVisible=!1}ngOnInit(){setTimeout(()=>{this.isLoading=!1},3e3);const t=JSON.parse(localStorage.getItem("usuario")||"null"),o=localStorage.getItem("authToken");(t||o)&&this.navCtrl.navigateBack("/inicio")}login(){var t=this;return(0,l.A)(function*(){var o;t.validateFields(),t.isValid?(t.showLoginSpinner=!0,t.authService.login(t.username,t.password).subscribe({next:(o=(0,l.A)(function*(a){yield t.showLoadingLoginSuccess(),window.location.href="/inicio"}),function(d){return o.apply(this,arguments)}),error:function(){var o=(0,l.A)(function*(a){console.error("Error al hacer login:",a),t.authService.showAlert("Error","Usuario o contrase\xf1a incorrectos."),t.showLoginSpinner=!1});return function(d){return o.apply(this,arguments)}}()})):t.authService.showAlert("Error","Por favor ingrese un nombre de usuario y contrase\xf1a v\xe1lidos.")})()}goToRegister(){this.navCtrl.navigateForward("/register")}validateFields(){this.isValid=""!==this.username.trim()&&""!==this.password.trim()}showLoadingLoginSuccess(){var t=this;return(0,l.A)(function*(){yield(yield t.loadingController.create({spinner:"crescent",message:"Verificando credenciales...",duration:3e3})).present()})()}togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible}}return(e=s).\u0275fac=function(t){return new(t||e)(n.rXU(r.hG),n.rXU(f.q9),n.rXU(r.Xi),n.rXU(_.u))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-home"]],standalone:!1,decls:4,vars:3,consts:[["class","spinner-init",4,"ngIf"],["id","login-container",4,"ngIf"],["class","spinner-login",4,"ngIf"],[1,"spinner-init"],["src","assets/icon/correosLogo.png","alt","Logo",1,"logo"],[1,"loading-bar"],["id","login-container"],["src","assets/icon/correosLogo.png","alt","",2,"width","50%","height","auto"],[1,"title"],["type","text","placeholder","Username",1,"custom-input",3,"ngModelChange","input","ngModel"],[1,"div_eyes"],["placeholder","Password",1,"custom-input",3,"ngModelChange","input","type","ngModel"],["name","eye-off-outline",3,"click","name"],["expand","full",3,"click","disabled"],["expand","full","fill","clear",1,"register-btn",3,"click"],[1,"spinner-login"],["name","dots","color","primary"]],template:function(t,o){1&t&&(n.j41(0,"ion-content"),n.DNE(1,h,3,0,"div",0)(2,x,16,5,"ion-card",1)(3,P,2,0,"div",2),n.k0s()),2&t&&(n.R7$(),n.Y8G("ngIf",o.isLoading),n.R7$(),n.Y8G("ngIf",!o.isLoading),n.R7$(),n.Y8G("ngIf",o.showLoginSpinner))},dependencies:[p.bT,g.BC,g.vS,r.Jm,r.b_,r.I9,r.ME,r.tN,r.W9,r.iq,r.$w,r.w2,r.Gw],styles:[".spinner-init[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;display:flex;flex-direction:column;align-items:center}.spinner-init[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:150px;margin-bottom:20px}ion-card[_ngcontent-%COMP%]{box-shadow:none!important;--background-color: #33333300 !important}.loading-bar[_ngcontent-%COMP%]{width:0;height:5px;background-color:#61c81a;animation:_ngcontent-%COMP%_loading 3s linear forwards;border-radius:4px}@keyframes _ngcontent-%COMP%_loading{0%{width:0}to{width:100%}}.loading-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;width:100%;max-width:300px}.app-logo[_ngcontent-%COMP%]{width:100%;max-width:150px;height:auto;object-fit:contain;margin-bottom:10px}.loading-bar[_ngcontent-%COMP%]{width:60%;height:4px;background-color:#61c81a;border-radius:8px;position:relative;overflow:hidden;margin-top:15px;margin-left:auto;margin-right:auto}.loading-bar[_ngcontent-%COMP%]   .loading-inner[_ngcontent-%COMP%]{position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(to right,#61c81a,#61c81a);animation:_ngcontent-%COMP%_loadingBar 3s linear forwards}@keyframes _ngcontent-%COMP%_loadingBar{0%{left:-100%}to{left:0}}.login-success-loading[_ngcontent-%COMP%]{--spinner-color: #61c81a;--background: rgba(0, 0, 0, .4)}ion-spinner[name=crescent][_ngcontent-%COMP%]{--spinner-color: #61c81a}#container[_ngcontent-%COMP%]{max-width:400px;width:100%;position:absolute;top:25%;left:50%;transform:translate(-50%,-50%);text-align:center;padding:20px;border-radius:16px}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:24px;color:#333;margin-bottom:20px;display:block}#login-container[_ngcontent-%COMP%]{max-width:400px;width:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;padding:20px;border-radius:16px;background:#f9f9f900;box-shadow:0 4px 8px #0003}#login-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:15px}#login-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background: #fff;--color: #333;--border-radius: 8px;padding:10px}#login-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: #61c81a;--background-hover: #61c81a;--color: #fff;border-radius:8px;padding:12px 24px;font-size:16px;width:100%}#login-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.register-btn[_ngcontent-%COMP%]{width:100%;margin-top:10px;text-align:center}.div_eyes[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:5px;padding:5px;width:100%}.custom-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none}ion-icon[_ngcontent-%COMP%]{cursor:pointer;margin-left:8px}"]}),s})()}];let M=(()=>{var e;class s{}return(e=s).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[m.iI.forChild(b),m.iI]}),s})(),C=(()=>{var e;class s{}return(e=s).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[p.MD,g.YN,r.bv,M]}),s})()}}]);